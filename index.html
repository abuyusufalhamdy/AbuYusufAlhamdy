<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Abu Yusuf Alhamdy - Salafi YouTube Channel</title>

<!-- Cinzel font -->
<link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet" />

<style>
  body {
    margin: 0;
    font-family: 'Cinzel', serif;
    background-color: #f0f0f0; /* light gray */
    color: #000;
    display: flex;
    height: 100vh;
  }

  /* Sidebar */
  #sidebar {
    width: 220px;
    background: #fff;
    border-right: 2px solid #000;
    padding: 20px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  #sidebar img {
    width: 80px;
    height: auto;
    margin-bottom: 20px;
  }

  #sidebar h2 {
    margin: 0 0 20px 0;
    font-size: 1.4rem;
    font-weight: bold;
  }

  #sidebar a {
    text-decoration: none;
    color: #000;
    margin-bottom: 15px;
    font-weight: bold;
    cursor: pointer;
  }

  #sidebar a:hover {
    text-decoration: underline;
  }

  /* Main content */
  #main-content {
    flex-grow: 1;
    padding: 20px;
    overflow-y: auto;
  }

  #videos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 20px;
  }

  .video-item {
    background: #fff;
    border: 1px solid #ccc;
    border-radius: 6px;
    overflow: hidden;
  }

  .video-item iframe {
    width: 100%;
    height: 180px;
    border: none;
  }

  .video-title {
    padding: 10px;
    font-weight: bold;
    font-size: 1rem;
  }

  /* About section */
  #about-section {
    font-size: 1.1rem;
  }
</style>
</head>
<body>

<div id="sidebar">
  <img src="Black and White Typographic and Simple Desktop Wallpaper.png" alt="Logo" />
  <a id="about-link">About This Page</a>
  <a id="all-videos-link">All Videos</a>
  <a id="latest-video-link">Latest Video</a>
</div>

<div id="main-content">
  <div id="about-section" style="display:none;">
    <h2>About This Page</h2>
    <p>This website showcases the Salafi teachings through the YouTube channel of Abu Yusuf Alhamdy. It features videos in Arabic and English, focusing on authentic Islamic knowledge following the Salafi manhaj.</p>
  </div>

  <div id="videos-grid"></div>
</div>

<script>
  const API_KEY = 'AIzaSyBxjceYQcKUaSwU12QLeu6meNmuIBunMng';
  const CHANNEL_ID = 'UCXZpmb3LM-OvdqLCyZWc7FA';

  const aboutSection = document.getElementById('about-section');
  const videosGrid = document.getElementById('videos-grid');

  document.getElementById('about-link').addEventListener('click', () => {
    aboutSection.style.display = 'block';
    videosGrid.style.display = 'none';
  });

  document.getElementById('all-videos-link').addEventListener('click', () => {
    aboutSection.style.display = 'none';
    videosGrid.style.display = 'grid';
    fetchVideos();
  });

  document.getElementById('latest-video-link').addEventListener('click', () => {
    aboutSection.style.display = 'none';
    videosGrid.style.display = 'grid';
    fetchLatestVideo();
  });

  async function fetchVideos(pageToken = '') {
    if (!pageToken) videosGrid.innerHTML = ''; // Clear previous videos on new fetch

    const url = `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=12&type=video&pageToken=${pageToken}`;

    try {
      const response = await fetch(url);
      const data = await response.json();

      if (!data.items) {
        videosGrid.innerHTML = '<p>Error loading videos.</p>';
        return;
      }

      data.items.forEach(item => {
        const videoId = item.id.videoId;
        const title = item.snippet.title;

        const videoElem = document.createElement('div');
        videoElem.classList.add('video-item');
        videoElem.innerHTML = `
          <iframe src="https://www.youtube.com/embed/${videoId}" allowfullscreen></iframe>
          <div class="video-title">${title}</div>
        `;
        videosGrid.appendChild(videoElem);
      });

      if (data.nextPageToken) {
        // Uncomment the next line if you want to load all videos, but can be slow on big channels
        // await fetchVideos(data.nextPageToken);
      }
    } catch (err) {
      videosGrid.innerHTML = '<p>Error fetching videos.</p>';
      console.error(err);
    }
  }

  async function fetchLatestVideo() {
    videosGrid.innerHTML = ''; // Clear grid
    const now = new Date();
    const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000).toISOString();

    const url = `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=10&type=video&publishedAfter=${weekAgo}`;

    try {
      const response = await fetch(url);
      const data = await response.json();

      if (!data.items || data.items.length === 0) {
        videosGrid.innerHTML = '<p>No videos uploaded in the last week.</p>';
        return;
      }

      // Show only the first/latest video uploaded this week
      const item = data.items[0];
      const videoId = item.id.videoId;
      const title = item.snippet.title;

      const videoElem = document.createElement('div');
      video
