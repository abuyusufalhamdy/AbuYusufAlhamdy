<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Abu Yusuf Alhamdy Official</title>
<style>
  /* Reset & base */
  * { box-sizing: border-box; margin:0; padding:0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
  body {
    background: #f0f4f8;
    color: #111;
    display: flex;
    height: 100vh;
    overflow: hidden;
    transition: background-color 0.3s, color 0.3s;
  }
  body.night-mode {
    background: #12131a;
    color: #cdd6f4;
  }

  /* Sidebar */
  #sidebar {
    width: 280px;
    background: #1a202c;
    color: #a0aec0;
    display: flex;
    flex-direction: column;
    padding: 20px 10px;
    border-right: 3px solid #3b82f6;
    position: relative;
  }
  #sidebar.night-mode {
    background: #0f1118;
    border-right-color: #2563eb;
  }
  #sidebar header {
    display: flex;
    align-items: center;
    margin-bottom: 30px;
    padding-left: 10px;
  }
  #sidebar header img {
    width: 45px;
    height: 45px;
    object-fit: contain;
    margin-right: 10px;
  }
  #sidebar header h1 {
    font-size: 20px;
    font-weight: 700;
    color: #f8fafc;
  }
  nav {
    display: flex;
    flex-direction: column;
  }
  nav button {
    background: none;
    border: none;
    color: inherit;
    text-align: left;
    padding: 15px 20px;
    font-size: 16px;
    cursor: pointer;
    border-left: 4px solid transparent;
    transition: all 0.3s;
    user-select: none;
  }
  nav button:hover,
  nav button.active {
    color: #3b82f6;
    border-left-color: #3b82f6;
    background-color: rgba(59,130,246,0.1);
  }

  /* Mode toggle */
  #modeToggle {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #3b82f6;
    border: none;
    padding: 10px;
    border-radius: 50%;
    cursor: pointer;
    transition: background 0.3s;
  }
  #modeToggle:hover {
    background: #2563eb;
  }
  #modeToggle svg {
    fill: #f0f4f8;
    width: 20px;
    height: 20px;
  }

  /* Content */
  #content {
    flex: 1;
    overflow-y: auto;
    padding: 30px 40px;
    background: #fff;
    transition: background-color 0.3s, color 0.3s;
  }
  body.night-mode #content {
    background: #1a1c26;
    color: #cdd6f4;
  }
  section.tab-content {
    display: none;
  }
  section.tab-content.active {
    display: block;
  }
  h1 {
    font-weight: 700;
    margin-bottom: 15px;
    color: inherit;
  }
  p {
    margin-bottom: 15px;
    line-height: 1.5;
  }
  a {
    color: #3b82f6;
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }

  /* Videos */
  #latestVideoContainer iframe,
  .video-item iframe {
    width: 100%;
    height: 315px;
    border: none;
    border-radius: 8px;
    background: #000;
  }
  #latestVideoContainer {
    margin-bottom: 30px;
  }

  #videoGrid {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(300px,1fr));
    gap: 20px;
  }
  .video-item {
    background: #f9fafb;
    border-radius: 8px;
    padding: 10px;
    box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
    transition: background-color 0.3s;
  }
  body.night-mode .video-item {
    background: #222635;
    box-shadow: 0 2px 8px rgb(0 0 0 / 0.6);
  }
  .video-info {
    margin-top: 10px;
  }
  .video-info h4 {
    font-weight: 600;
    margin-bottom: 5px;
    font-size: 16px;
  }
  .video-info p {
    font-size: 13px;
    color: #666;
  }
  body.night-mode .video-info p {
    color: #999;
  }

  /* Search */
  #videoSearch {
    width: 100%;
    padding: 10px 15px;
    margin-bottom: 25px;
    font-size: 16px;
    border: 2px solid #3b82f6;
    border-radius: 8px;
    outline: none;
    transition: background-color 0.3s, color 0.3s;
  }
  #videoSearch:focus {
    background-color: #ebf4ff;
  }
  body.night-mode #videoSearch {
    background-color: #2a2e42;
    border-color: #2563eb;
    color: #cdd6f4;
  }
  body.night-mode #videoSearch:focus {
    background-color: #1e2132;
  }

  /* Contact form */
  form#contactForm {
    max-width: 600px;
  }
  form#contactForm input,
  form#contactForm textarea {
    width: 100%;
    padding: 12px 15px;
    margin-bottom: 15px;
    border: 2px solid #3b82f6;
    border-radius: 8px;
    font-size: 16px;
    outline: none;
    transition: background-color 0.3s, color 0.3s;
  }
  form#contactForm input:focus,
  form#contactForm textarea:focus {
    background-color: #ebf4ff;
  }
  body.night-mode form#contactForm input,
  body.night-mode form#contactForm textarea {
    background-color: #2a2e42;
    border-color: #2563eb;
    color: #cdd6f4;
  }
  body.night-mode form#contactForm input:focus,
  body.night-mode form#contactForm textarea:focus {
    background-color: #1e2132;
  }
  form#contactForm button {
    background: #3b82f6;
    border: none;
    padding: 12px 25px;
    color: #fff;
    font-weight: 700;
    font-size: 16px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  form#contactForm button:hover {
    background: #2563eb;
  }
  #statusMessage {
    margin-top: 10px;
    font-weight: 600;
  }

  /* Scrollbar */
  #content::-webkit-scrollbar {
    width: 10px;
  }
  #content::-webkit-scrollbar-thumb {
    background: #3b82f6;
    border-radius: 5px;
  }
  body.night-mode #content::-webkit-scrollbar-thumb {
    background: #2563eb;
  }
</style>
</head>
<body>
  <div id="sidebar">
    <header>
      <img src="logo.png" alt="Abu Yusuf Alhamdy Logo" />
      <h1>Abu Yusuf Alhamdy</h1>
    </header>
    <nav>
      <button class="active" data-tab="home">Home</button>
      <button data-tab="videos">Videos</button>
      <button data-tab="articles">Articles</button>
      <button data-tab="contact">Contact Us</button>
    </nav>
    <button id="modeToggle" title="Toggle Day/Night Mode" aria-label="Toggle Day/Night Mode">
      <svg viewBox="0 0 24 24" id="modeIcon" fill="currentColor">
        <path d="M12 3.25a8.75 8.75 0 0 0 0 17.5c4.83 0 8.75-3.92 8.75-8.75S16.83 3.25 12 3.25z"/>
      </svg>
    </button>
  </div>

  <main id="content">
    <section id="home" class="tab-content active">
      <h1>Welcome to Abu Yusuf Alhamdy Official</h1>
      <p>Explore the latest videos and Islamic knowledge.</p>
      <h2>Latest Video</h2>
      <div id="latestVideoContainer">
        <!-- Latest video iframe inserted here -->
      </div>
    </section>

    <section id="videos" class="tab-content">
      <h1>Videos</h1>
      <input type="text" id="videoSearch" placeholder="Search videos..." />
      <div id="videoGrid">
        <!-- Video list loaded here -->
      </div>
    </section>

    <section id="articles" class="tab-content">
      <h1>Articles</h1>
      <p>Articles fetching functionality will be integrated here.</p>
      <p>Currently, this section is a placeholder.</p>
    </section>

    <section id="contact" class="tab-content">
      <h1>Contact Us</h1>
      <form id="contactForm">
        <input type="text" name="name" placeholder="Your Name" required />
        <input type="email" name="email" placeholder="Your Email" required />
        <textarea name="message" rows="6" placeholder="Your Message" required></textarea>
        <button type="submit">Send</button>
        <div id="statusMessage"></div>
      </form>
      <p>Phone: +1-850-665-5745</p>
      <p>Email: <a href="mailto:AbuYusufAlhamdy1@hotmail.com">AbuYusufAlhamdy1@hotmail.com</a></p>
    </section>
  </main>

<script>
  // Sidebar tab switching
  const tabs = document.querySelectorAll('#sidebar nav button');
  const contents = document.querySelectorAll('.tab-content');

  tabs.forEach(button => {
    button.addEventListener('click', () => {
      if (button.classList.contains('active')) return;

      tabs.forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');

      const target = button.getAttribute('data-tab');
      contents.forEach(section => {
        section.classList.toggle('active', section.id === target);
      });
    });
  });

  // Day/Night mode toggle
  const modeToggle = document.getElementById('modeToggle');
  const body = document.body;
  const modeIcon = document.getElementById('modeIcon');

  function setModeIcon(isNight) {
    if(isNight){
      modeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"/>'; // moon icon
    } else {
      modeIcon.innerHTML = '<path d="M12 3.25a8.75 8.75 0 0 0 0 17.5c4.83 0 8.75-3.92 8.75-8.75S16.83 3.25 12 3.25z"/>'; // sun icon
    }
  }

  // Load mode preference from localStorage
  if(localStorage.getItem('mode') === 'night'){
    body.classList.add('night-mode');
    setModeIcon(true);
  } else {
    setModeIcon(false);
  }

  modeToggle.addEventListener('click', () => {
    const isNight = body.classList.toggle('night-mode');
    localStorage.setItem('mode', isNight ? 'night' : 'day');
    setModeIcon(isNight);
  });

  // YouTube API Setup
  const API_KEY = 'AIzaSyBxjceYQcKUaSwU12QLeu6meNmuIBunMng'; // Provided by user
  const CHANNEL_ID = 'UCoXzWPTne8dHYrftHpdIopw';
  const MAX_RESULTS = 15;

  const latestVideoContainer = document.getElementById('latestVideoContainer');
  const videoGrid = document.getElementById('videoGrid');
  const videoSearchInput = document.getElementById('videoSearch');

  let videos = [];

  async function fetchVideos() {
    try {
      const url = `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=${MAX_RESULTS}`;
      const response = await fetch(url);
      const data = await response.json();
      if(data.error){
        console.error('YouTube API error:', data.error.message);
        latestVideoContainer.innerHTML = `<p>Failed to load videos.</p>`;
        return;
      }
      videos = data.items.filter(item => item.id.kind === 'youtube#video');
      renderLatestVideo();
      renderVideoList(videos);
    } catch (error) {
      console.error('Fetch videos error:', error);
      latestVideoContainer.innerHTML = `<p>Failed to load videos.</p>`;
    }
  }

  function renderLatestVideo() {
    if(videos.length === 0) {
      latestVideoContainer.innerHTML = `<p>No videos found.</p>`;
      return;
    }
    const video = videos[0];
    latestVideoContainer.innerHTML = `
      <iframe 
        src="https://www.youtube.com/embed/${video.id.videoId}" 
        allowfullscreen 
        title="${video.snippet.title}"></iframe>
      <h3>${video.snippet.title}</h3>
      <p>${video.snippet.description.substring(0, 150)}...</p>
    `;
  }

  function renderVideoList(videoList) {
    if(videoList.length === 0) {
      videoGrid.innerHTML = '<p>No videos match your search.</p>';
      return;
    }
    videoGrid.innerHTML = '';
    videoList.forEach(video => {
      const el = document.createElement('div');
      el.className = 'video-item';
      el.innerHTML = `
        <iframe 
          src="https://www.youtube.com/embed/${video.id.videoId}" 
          allowfullscreen 
          title="${video.snippet.title}"></iframe>
        <div class="video-info">
          <h4>${video.snippet.title}</h4>
          <p>${video.snippet.description.substring(0, 100)}...</p>
        </div>
      `;
      videoGrid.appendChild(el);
    });
  }

  videoSearchInput.addEventListener('input', () => {
    const query = videoSearchInput.value.trim().toLowerCase();
    if(!query) {
      renderVideoList(videos);
      return;
    }
    const filtered = videos.filter(v => 
      v.snippet.title.toLowerCase().includes(query) || 
      v.snippet.description.toLowerCase().includes(query));
    renderVideoList(filtered);
  });

  // Contact form submission (dummy, no backend)
  const contactForm = document.getElementById('contactForm');
  const statusMessage = document.getElementById('statusMessage');

  contactForm.addEventListener('submit', e => {
    e.preventDefault();
    statusMessage.textContent = 'Sending message...';

    // Dummy delay to simulate send
    setTimeout(() => {
      statusMessage.textContent = 'Message sent. Thank you.';
      contactForm.reset();
    }, 1000);
  });

  fetchVideos();
</script>
</body>
</html>
