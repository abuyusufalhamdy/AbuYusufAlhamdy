<script>
  const apiKey = 'AIzaSyBxjceYQcKUaSwU12QLeu6meNmuIBunMng';
  const channelId = 'UCoXzWPTne8dHYrftHpdIopw';
  const maxResults = 6;

  const latestVideoContainer = document.getElementById('latest-video');
  const videosContainer = document.getElementById('videos-container');

  fetch(`https://www.googleapis.com/youtube/v3/search?key=${apiKey}&channelId=${channelId}&part=snippet&type=video&order=date&maxResults=${maxResults}`)
    .then(response => response.json())
    .then(data => {
      if (!data.items || data.items.length === 0) {
        latestVideoContainer.innerHTML = '<p>No videos found.</p>';
        return;
      }

      data.items.forEach((item, index) => {
        const videoId = item.id.videoId;
        const title = item.snippet.title;
        const embedHTML = `
          <div class="video">
            <iframe src="https://www.youtube.com/embed/${videoId}" frameborder="0" allowfullscreen></iframe>
            <p>${title}</p>
          </div>
        `;

        if (index === 0) {
          latestVideoContainer.innerHTML = embedHTML;
        } else {
          videosContainer.innerHTML += embedHTML;
        }
      });
    })
    .catch(err => {
      console.error('Failed to fetch videos:', err);
      latestVideoContainer.innerHTML = '<p>Error loading videos.</p>';
    });
</script>
